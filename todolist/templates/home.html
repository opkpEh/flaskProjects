{% extends "base.html" %}

{% block content %}
<section class="add-task">
    <h2>Add New Task</h2>
    <form action="{{ url_for('home') }}" method="POST" class="task-form">
        <input type="text" name="task_description" placeholder="Enter a task" required>
        <input type="date" name="task_deadline">
        <button type="submit" class="btn btn-primary">Add Task</button>
    </form>
</section>

<section class="task-list">
    <h2>Your Tasks</h2>
    {% if tasks %}
        <ul class="tasks">
            {% for task in tasks %}
            <li class="task-item {% if task.complete %}task-complete{% endif %}">
                <div class="task-content">
                    <span class="task-text">{{ task.content }}</span>
                    {% if task.deadline %}
                        <span class="task-deadline">Due: {{ task.deadline.strftime('%b %d, %Y') }}</span>
                    {% endif %}
                </div>
                <div class="task-actions">
                    <a href="{{ url_for('toggle_task', id=task.id) }}" class="btn btn-toggle">
                        {% if task.complete %}Undo{% else %}Complete{% endif %}
                    </a>
                    <a href="{{ url_for('edit_task', id=task.id) }}" class="btn btn-edit">Edit</a>
                    <a href="{{ url_for('delete_task', id=task.id) }}" class="btn btn-delete">Delete</a>
                </div>
            </li>
            {% endfor %}
        </ul>
    {% else %}
        <p class="no-tasks">No tasks yet. Add a task to get started!</p>
    {% endif %}
</section>
{% endblock %}